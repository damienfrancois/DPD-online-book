<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <meta name="author" content="Geert Jan Bex">
  
  <link rel="shortcut icon" href="../../../../img/favicon.ico">
  <title>Arm DDT parallel debugger - Defensive programming and debugging</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700" />

  <link rel="stylesheet" href="../../../../css/theme.css" />
  <link rel="stylesheet" href="../../../../css/theme_extra.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css" />
  
  <script>
    // Current page data
    var mkdocs_page_name = "Arm DDT parallel debugger";
    var mkdocs_page_input_path = "BugsAtRuntime/Debuggers/ArmDdt/arm_ddt.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="../../../../js/jquery-2.1.1.min.js" defer></script>
  <script src="../../../../js/modernizr-2.8.3.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
        <a href="../../../.." class="icon icon-home"> Defensive programming and debugging</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../../..">Welcome to Defensive Programming and Debugging</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Preface</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../../../Intro/economics_of_bugs/">Motivation</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../../../Intro/scope/">Scope</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../../../Intro/software/">Software environment</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Taxonomy of bugs</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../../../Taxonomy/taxonomy_intro/">Introduction</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../../../Taxonomy/requirements_bugs/">Bugs in requirements</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../../../Taxonomy/structural_bugs/">Structural bugs</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../../../Taxonomy/arithmetic_bugs/">Arithmetic bugs</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../../../Taxonomy/data_races_deadlocks/">Data races & deadlocks</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../../../Taxonomy/data_bugs/">Bugs in data</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Writing good code</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../../../CodingBestPractices/coding_best_practices_intro/">Introduction</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../../../CodingBestPractices/coding_best_practices/">Coding style</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../../../CodingBestPractices/ErrorHandling/error_handling_fortran/">Error handling in Fortran</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../../../CodingBestPractices/ErrorHandling/error_handling_c/">Error handling in C</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../../../CodingBestPractices/ErrorHandling/error_handling_cpp/">Exceptions in C++</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../../../CodingBestPractices/ErrorHandling/assertions/">Assertions</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Documentation</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../../../Documentation/documentation_intro/">Introduction</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../../../Documentation/documentation_best_practices/">Best practices</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../../../Documentation/mkdocs/">MkDocs for application documentation</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Unit testing</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../../../Testing/UnitTesting/unit_testing_intro/">Introduction</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../../../Testing/UnitTesting/unit_testing_best_practices/">Best practices</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../../../Testing/UnitTesting/pfunit_fortran/">pfUnit for Fortran</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../../../Testing/UnitTesting/cunit_c/">CUnit for C</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../../../Testing/UnitTesting/catch2_cpp/">Catch2 for C++</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Functional testing</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../../../Testing/FunctionalTesting/functional_testing_intro/">Introduction</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../../../Testing/FunctionalTesting/functional_testing_best_practices/">Best practices</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Code coverage</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../../../Testing/CodeCoverage/code_coverage_intro/">Introduction</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../../../Testing/CodeCoverage/code_coverage_best_practices/">Best practices</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Code validation</span></p>
                <ul>
                    <li class="toctree-l1"><a class="" href="../../../../CodeValidation/code_validation_intro.md">Introduction</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../../../CodeValidation/Compilers/gfortran_flags/">Flags for gfortran</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../../../CodeValidation/Compilers/ifort_flags/">Flags for ifort</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../../../CodeValidation/Compilers/gcc_flags/">Flags for gcc/g++</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../../../CodeValidation/Compilers/icc_flags/">Flags for icc/icpc</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../../../CodeValidation/StaticCodeAnalyzers/clang_tidy/">Clang Tidy</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Finding bugs at runtime</span></p>
                <ul class="current">
                    <li class="toctree-l1"><a class="reference internal" href="../../../finding_bugs_intro/">Introduction</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../../finding_bugs_best_practices/">Best practices</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../../heisenbugs/">Reproducibility & Heisenbugsi</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../../parallel_debugging_best_practices/">Best practices for parallel applications</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../Gdb/gdb_features/">GDB Features</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../Gdb/gdb_attach/">Attaching GDB to running processes</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../Gdb/gdb_reverse_debugging/">Reverse debugging with GDB</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../Gdb/gdb_omp_debugging/">Debugging OpenMP applications with GDB</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../../tracing/">Tracing applications</a>
                    </li>
                    <li class="toctree-l1 current"><a class="reference internal current" href="./">Arm DDT parallel debugger</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#debugging-with-ddt">Debugging with DDT</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#data-exploration">Data exploration</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#memory-access">Memory access</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#forging-code">Forging code</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#log-book">Log book</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#alternatives">Alternatives</a>
    </li>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../../Verification/Compilers/gfortran_flags/">Compiler instrumentation for gfortran</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../../Verification/Compilers/ifort_flags/">Compiler instrumentation for ifort</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../../Verification/Compilers/gcc_sanitize/">Sanitizer instrumentation for C/C++</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../../Verification/Compilers/icc_flags/">Compiler instrumentation for icc/icpc</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Appendices</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../../../Appendices/rosetta_stone/">Rosetta stone</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../../../Appendices/syntax_vs_semantics/">Syntax versus semantics</a>
                    </li>
                </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../../..">Defensive programming and debugging</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../../..">Docs</a> &raquo;</li>
    
      
        
          <li>Finding bugs at runtime &raquo;</li>
        
      
    
    <li>Arm DDT parallel debugger</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="arm-ddt">Arm DDT</h1>
<p>Arm DDT is an excellent debugger that helps you debug applications at almost any scale, that run on tens of thousands of cores.  It is a commercial product, so you need a license to run it, but perhaps your HPC center has one.</p>
<p>On their website, Arm describes DDT as follows:</p>
<blockquote>
<p>Arm DDT is the number one debugger in research, industry, and academia for software engineers and scientists developing C++, C, Fortran parallel and threaded applications on CPUs, GPUs, Intel and Arm. Arm DDT is trusted as a powerful tool for automatic detection of memory bugs and divergent behavior to achieve lightning-fast performance at all scales.</p>
</blockquote>
<p>DDT is part of Arm Forge, which also includes MAP, an excellent profiler.</p>
<p>As an aside, although officially DDT stands for Distributed Debugging Tool, it is very likely a pun on dichlorodiphenyltrichloroethane, commonly known as DDT.  It is an insecticide that was used extensively from 1950s to 1980s.  It was mostly banned for its side effects on the environment.  However, Arm DDT is entirely safe to use, and will help you eradicate the bugs in your software.</p>
<h2 id="debugging-with-ddt">Debugging with DDT</h2>
<p>Everything you know about GDB can be applied to DDT.  You can set breakpoints and inspect the values of variables. Stepping through the execution can be done using buttons or keyboard shortcuts.</p>
<p>Just like in GDB, breakpoints can be conditional, and you can set watchpoints as well.  Tracepoints offer the functionality that the dynamic print (<code>dprintf</code>) implements in GDB.</p>
<p>Inspecting the call stack and switching frames is very intuitive, as is switching between threads and/or processes.</p>
<p>Evaluating expressions at runtime can also be done.  These expressions are displayed in their own view, which is updated each time the application is paused.</p>
<h2 id="data-exploration">Data exploration</h2>
<p>Arm DDT was indeed designed to work at scale, to debug applications that have thousands of processes and threads.  A lot of attention has been paid to ensure that information is aggregated as much as possible.  From the visualisation of the call stack, you can immediately see how many processes are paused in various function calls.</p>
<p>Another area where information aggregation is very important is the inspection of variables.  The user interface is cleverly designed to support doing this effectively for parallel code.  Spark lines give you insight into the values across processes or threads.  This helps to spot potential issues quickly, even without switching to other processes or threads.</p>
<p>Another feature that is quite convenient in this context is the option to compare a value across processes or threads.  This shows the value of that variable, but also the statistics over these values.  It includes counts for values such as infinity and NaN.</p>
<p>For arrays there is a specialised tool, i.e., the array view. This view can be used to visually inspect an array and create a 2D layout. If the array is distributed over multiple processes, this can be visualised as well.  Just as for the comparison across processes, statistics are available as well.</p>
<p>Given that visualisation can be a great help to spot anomalies in data, and hence bugs, the scientific visualisation package VisIt can be used integrated with Arm DDT.</p>
<h2 id="memory-access">Memory access</h2>
<p>In addition, Arm DDT has extensive support for memory access debugging, similar to what you can do with Valgrind.  You can tune the level of debugging, which impacts the performance.</p>
<p>You can check for</p>
<ul>
<li>basic: invalid pointers passed to memory allocation functions;</li>
<li>check-funcs: checks more functions for invalid pointers (mostly string functions);</li>
<li>check-heap: heap corruption by, e.g., writes to invalid addresses;</li>
<li>check-fence: checks whether the end of an allocation has been overwritten when it is freed;</li>
<li>alloc-blank: initialises allocated memory to some known value;</li>
<li>free-blank: assigns a known value to memory locations that are freed;</li>
<li>check-blank: checks whether memory that was blanked has been overwritten (implies alloc-blank and free-blank);</li>
<li>realloc-copy: ensures that data is copied to a new pointer upon reallocation;</li>
<li>free-protect: enables (when possible) hardware checks to verify that memory that was freed is not overwritten.</li>
</ul>
<p>As mentioned, this can have an impact of performance which you can mitigate at least in part by reconfiguring options at runtime, e.g., only enabling some checks during a specific phase of the execution.</p>
<p>It is also possible to limit memory checks to a range of processes only.  However, this may cause load imbalance, and hence not actually improve performance.</p>
<h2 id="forging-code">Forging code</h2>
<p>As mentioned, DDT is part of Arm Forge.  The name refers to the fact that the source code view in DDT is actually a full fledged editor.  From within DDT, you can modify and rebuild your code and it even integrates with version control systems.</p>
<p>This allows for a fast and convenient round-trip experience when identifying and fixing code defects.</p>
<h2 id="log-book">Log book</h2>
<p>A seemingly minor feature can be a great convenience.  Arm DDT automatically maintains a log of your debug session by recording each action you take.  In addition, you can add your own annotations.</p>
<p>This can be a great help during lengthy debug sessions.</p>
<h2 id="alternatives">Alternatives</h2>
<p>Of course, there are alternatives to Arm DDT.</p>
<p>At a pinch, you can use GDB, but you would face several inconveniences since</p>
<ul>
<li>you would have to ensure your application idles after starting it to ensure you can attach GDB debug sessions to the processes, and</li>
<li>you have to attach a GDB session to all the processes you are interested in.</li>
</ul>
<p>In this setup, it would be very hard to aggregate information across processes and conveniently explore your application's data.</p>
<p>The Eclipse PTP (Parallel Tools Platform) should offer more convenient debugging options, but at least on the clusters I've access to, that doesn't work reliably.</p>
<p>Lastly, RogueWave has a commercial product that has many similarities to Arm DDT, e.g., TotalView.</p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../../../Verification/Compilers/gfortran_flags/" class="btn btn-neutral float-right" title="Compiler instrumentation for gfortran">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../../../tracing/" class="btn btn-neutral" title="Tracing applications"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../../../tracing/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../../../Verification/Compilers/gfortran_flags/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '../../../..';</script>
    <script src="../../../../js/theme.js" defer></script>
      <script src="../../../../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
